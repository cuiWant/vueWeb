<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<link rel="icon" href="<%= BASE_URL %>favicon.ico">
	<link rel="stylesheet" href="./reset.css">
	<link rel="stylesheet" href="./icon-font/iconfont.css">
	<title><%= htmlWebpackPlugin.options.title %></title>
</head>

<body>
	<noscript>
		<strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled.
			Please enable it to continue.</strong>
	</noscript>
	<div id="app"></div>
	<script>
		let timeoutId;
		window.addEventListener('pageshow', function () {
			refreshRem()
		})
		window.addEventListener('resize', function () {

			if (timeoutId) {
				clearTimeout(timeoutId);
			}
			timeoutId = setTimeout(function () {
				refreshRem()
			}, 300)
		})
		function refreshRem() {
			// 获取屏幕的宽度
			let clientWidth = document.documentElement.clientWidth;
			// 将屏幕宽度10等分
			let fontValue = clientWidth / 10;
			// 获取屏幕的设备像素比dpr的值
			let dpr = window.devicePixelRatio;
			// 确定dpr的值
			if (dpr >= 3) {
				dpr = 3;
			} else if (dpr < 3 && dpr >= 2) {
				dpr = 2;
			} else {
				dpr = 1;
			}
			// 设定单位rem值的大小
			let rem = fontValue;

			// px转换rem的基础, 
			let remUnit = fontValue * dpr;
			// 设定body标签字体大小
			document.body.style.fontSize = '12px';
			// 设定html上fontsize的大小
			document.documentElement.style.fontSize = rem + 'px';
		}
	</script>
	<!-- built files will be auto injected -->
</body>

</html>